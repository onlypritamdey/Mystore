<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PB COLLECTION</title>
  <meta name="description" content="PB COLLECTION - Affordable Fashion & Lifestyle. Shop latest clothing for Men, Women, Boys & Girls.">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Alpine Store -->
  <script src="store.js"></script>
</head>
<body x-data="store" class="bg-gray-100" x-init="init()" @keydown.escape="isCartOpen=false">

  <!-- HEADER -->
  <header class="bg-white shadow p-4 flex justify-between items-center sticky top-0 z-50">
    <h1 class="text-xl font-bold">PB COLLECTION</h1>
    <nav class="hidden md:flex gap-6">
      <a href="#boys" class="hover:text-emerald-600">Boys</a>
      <a href="#girls" class="hover:text-emerald-600">Girls</a>
      <a href="#men" class="hover:text-emerald-600">Men</a>
      <a href="#women" class="hover:text-emerald-600">Women</a>
    </nav>
    <button @click="toggleCart()" class="relative">
      <i class="fa-solid fa-cart-shopping text-2xl"></i>
      <span x-show="cartCount > 0"
            class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-1"
            x-text="cartCount"></span>
    </button>
  </header>

  <!-- HERO SECTION -->
  <section class="bg-emerald-600 text-white text-center py-16">
    <h2 class="text-3xl font-bold">Welcome to PB COLLECTION</h2>
    <p class="mt-2 text-lg">Trendy Fashion at Unbeatable Prices</p>
    <a href="#products"
       class="mt-4 inline-block bg-white text-emerald-600 px-6 py-2 rounded-lg font-semibold hover:bg-gray-100">
      Shop Now
    </a>
  </section>

  <!-- PRODUCT GRID -->
  <section id="products" class="max-w-6xl mx-auto p-6">
    <h3 class="text-2xl font-bold mb-4">üî• Just Dropped</h3>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      <template x-for="product in products" :key="product.id">
        <div class="bg-white shadow rounded-lg overflow-hidden flex flex-col">
          <img :src="product.image" :alt="product.name" loading="lazy" class="w-full h-48 object-cover">
          <div class="p-4 flex-1 flex flex-col">
            <h4 class="font-semibold text-lg" x-text="product.name"></h4>
            <p class="text-gray-500 text-sm mb-2" x-text="product.category"></p>
            <div class="flex items-center gap-2 mb-2">
              <span class="text-emerald-600 font-bold">‚Çπ<span x-text="product.price"></span></span>
              <span class="text-gray-400 line-through" x-show="product.originalPrice > product.price">‚Çπ<span x-text="product.originalPrice"></span></span>
              <span class="ml-auto text-sm text-red-500 font-medium"
                    x-show="product.originalPrice > product.price"
                    x-text="Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100) + '% OFF'">
              </span>
            </div>
            <!-- Rating -->
            <div class="flex text-yellow-400 text-sm mb-3">
              <template x-for="(star, i) in getStars(product.rating)" :key="i">
                <i :class="star === 'full' ? 'fa-solid fa-star' : star === 'half' ? 'fa-solid fa-star-half-stroke' : 'fa-regular fa-star'"></i>
              </template>
              <span class="ml-1 text-gray-500 text-xs" x-text="product.rating.toFixed(1)"></span>
            </div>
            <button @click="addToCart(product)"
                    class="mt-auto bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700">
              Add to Cart
            </button>
          </div>
        </div>
      </template>
    </div>
  </section>

  <!-- CART COMPONENT -->
  <div id="cart-component"></div>
  <script>
    fetch("cart.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("cart-component").innerHTML = html;
        Alpine.initTree(document.getElementById("cart-component"));
      });
  </script>

  <!-- FAQ SECTION -->
  <section class="max-w-4xl mx-auto p-6">
    <h3 class="text-2xl font-bold mb-4 text-center">‚ùì Frequently Asked Questions</h3>
    <div x-data="{ open: null }" class="space-y-3">
      <div class="border rounded-lg p-4">
        <button @click="open === 1 ? open = null : open = 1" class="flex justify-between w-full">
          <span>What is PB COLLECTION?</span>
          <i class="fa-solid" :class="open === 1 ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
        </button>
        <p x-show="open === 1" x-transition class="mt-2 text-gray-600">PB COLLECTION is your one-stop shop for fashion at unbeatable prices.</p>
      </div>
      <div class="border rounded-lg p-4">
        <button @click="open === 2 ? open = null : open = 2" class="flex justify-between w-full">
          <span>Do you offer free shipping?</span>
          <i class="fa-solid" :class="open === 2 ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
        </button>
        <p x-show="open === 2" x-transition class="mt-2 text-gray-600">Yes, we offer free shipping on all orders.</p>
      </div>
      <div class="border rounded-lg p-4">
        <button @click="open === 3 ? open = null : open = 3" class="flex justify-between w-full">
          <span>What payment methods do you accept?</span>
          <i class="fa-solid" :class="open === 3 ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
        </button>
        <p x-show="open === 3" x-transition class="mt-2 text-gray-600">We accept UPI, debit/credit cards, and COD.</p>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-gray-900 text-white py-6 mt-10">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center px-6">
      <p>&copy; 2025 PB COLLECTION. All rights reserved.</p>
      <div class="flex gap-4 mt-3 md:mt-0">
        <a href="#" class="hover:text-emerald-400"><i class="fa-brands fa-facebook"></i></a>
        <a href="#" class="hover:text-emerald-400"><i class="fa-brands fa-instagram"></i></a>
        <a href="#" class="hover:text-emerald-400"><i class="fa-brands fa-whatsapp"></i></a>
      </div>
    </div>
  </footer>

</body>
</html>
